{"version":3,"sources":["components/StateProvider.js","firebase.js","components/Header.js","components/Product.js","components/Home.js","components/CheckoutProduct.js","components/Checkout.js","components/SignIn.js","App.js","serviceWorker.js","index.js","components/reducer.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","itemsInBasket","reduce","acc","item","quantity","className","to","src","alt","type","id","onClick","signOut","email","split","Product","title","price","image","rating","dispatch","Array","fill","map","_","index","role","aria-label","toString","Home","CheckoutProduct","Checkout","subtotalAmount","length","toFixed","name","SignIn","useState","setEmail","password","setPassword","history","useHistory","userSignIn","e","a","preventDefault","console","log","signInWithEmailAndPassword","auth_data","push","alert","message","userRegister","createUserWithEmailAndPassword","htmlFor","onChange","target","App","useEffect","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","state","action","newBasket","itemIndex","JSON","parse","stringify","findIndex","warn","filter","ele","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.9d97e13a.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\n// this is a data layer\r\nexport const StateContext = createContext();\r\n\r\n// build a provider\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// this is used to use the data inside components\r\n// it returns [state, dispatch]\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyCuIMzj1j5r_qsnc3OW1xlWyaXPmQbMMRQ',\r\n  authDomain: 'clone-17242.firebaseapp.com',\r\n  databaseURL: 'https://clone-17242.firebaseio.com',\r\n  projectId: 'clone-17242',\r\n  storageBucket: 'clone-17242.appspot.com',\r\n  messagingSenderId: '1048269704581',\r\n  appId: '1:1048269704581:web:bf9b4288b096862b9348ec',\r\n  measurementId: 'G-4T6VLWMZMJ',\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };\r\n","import React from 'react';\r\nimport './Header.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { useStateValue } from './StateProvider';\r\nimport { auth } from '../firebase';\r\n\r\nfunction Header() {\r\n  // const [state, dispatch] = useStateValue();\r\n  // but we only need state.basket\r\n  const [{ basket, user }] = useStateValue();\r\n  const itemsInBasket = basket.reduce((acc, item) => acc + item.quantity, 0);\r\n  // console.log('Basket: ', basket);\r\n\r\n  const handleAuth = () => {\r\n    if (user) {\r\n      auth.signOut();\r\n    }\r\n    // if user is not signed in, <Link> takes it to /login\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"header__logo\"\r\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n          alt=\"amazon logo\"\r\n        />\r\n      </Link>\r\n\r\n      <div className=\"header__search\">\r\n        <input type=\"text\" className=\"header__searchInput\" />\r\n        <SearchIcon className=\"header__searchIcon\" id=\"laks\"></SearchIcon>\r\n      </div>\r\n\r\n      <div className=\"header__nav\">\r\n        {/* go to /login only if user is not signed in */}\r\n        <Link to={!user && '/login'} className=\"header__link\">\r\n          <div className=\"header__option\" onClick={handleAuth}>\r\n            <span className=\"header__optionLineOne\">\r\n              HOLA {user ? user.email.split('@')[0] : 'Guest'}\r\n            </span>\r\n            <span className=\"header__optionLineTwo\">{user ? 'Sign Out' : 'Sign In'}</span>\r\n          </div>\r\n        </Link>\r\n\r\n        <Link to=\"/\" className=\"header__link\">\r\n          <div className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">Returns</span>\r\n            <span className=\"header__optionLineTwo\">& Orders</span>\r\n          </div>\r\n        </Link>\r\n\r\n        <Link to=\"/\" className=\"header__link\">\r\n          <div className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">Try</span>\r\n            <span className=\"header__optionLineTwo\">Prime</span>\r\n          </div>\r\n        </Link>\r\n\r\n        <Link to=\"/checkout\" className=\"header__link\">\r\n          <div className=\"header__optionBasket\">\r\n            <ShoppingCartIcon />\r\n            <span className=\"header__optionLineTwo header__basketCount\">{itemsInBasket}</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './Product.scss';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Product({ id, title, price, image, rating }) {\r\n  const [, dispatch] = useStateValue();\r\n  const addToBasket = () => {\r\n    dispatch({\r\n      type: 'ADD_TO_BASKET',\r\n      item: {\r\n        id,\r\n        title,\r\n        price,\r\n        image,\r\n        rating,\r\n        quantity: 1,\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__info\">\r\n        <h4>{title}</h4>\r\n        <p className=\"product__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n\r\n        <div className=\"product__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_, index) => (\r\n              <span role=\"img\" aria-label=\"rating\" key={index.toString()}>\r\n                ⭐\r\n              </span>\r\n            ))}\r\n        </div>\r\n\r\n        <img src={image} alt=\"\" className=\"product__image\" />\r\n\r\n        <button className=\"product__buyButton\" onClick={addToBasket}>\r\n          Add to basket\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport './Home.scss';\r\nimport Product from './Product';\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home__container\">\r\n        <img\r\n          className=\"home__image\"\r\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n          alt=\"\"\r\n        />\r\n\r\n        <div className=\"home__row\">\r\n          <Product\r\n            key=\"123\"\r\n            id=\"123\"\r\n            title=\"Learning Javascript w/ Lakshay 1\"\r\n            price={7.99}\r\n            rating={4}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n          <Product\r\n            key=\"234\"\r\n            id=\"234\"\r\n            title=\"Learning Javascript w/ Lakshay 2\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n        </div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            key=\"345\"\r\n            id=\"345\"\r\n            title=\"Learning Javascript w/ Lakshay 3\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n          <Product\r\n            key=\"456\"\r\n            id=\"456\"\r\n            title=\"Learning Javascript w/ Lakshay 4\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n          <Product\r\n            key=\"567\"\r\n            id=\"567\"\r\n            title=\"Learning Javascript w/ Lakshay 5\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n          <Product\r\n            key=\"678\"\r\n            id=\"678\"\r\n            title=\"Learning Javascript w/ Lakshay 6\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n        </div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            key=\"789\"\r\n            id=\"789\"\r\n            title=\"Learning Javascript w/ Lakshay 7\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n          <Product\r\n            key=\"890\"\r\n            id=\"890\"\r\n            title=\"Learning Javascript w/ Lakshay 8\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n          <Product\r\n            key=\"901\"\r\n            id=\"901\"\r\n            title=\"Learning Javascript w/ Lakshay 9\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n        </div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            key=\"12324\"\r\n            id=\"123\"\r\n            title=\"Learning Javascript w/ Lakshay 1\"\r\n            price={7.99}\r\n            rating={3}\r\n            image=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.javatechblog.com%2Fwp-content%2Fuploads%2F2016%2F06%2FBest-books-for-JavaScript-Learning-JavaScript.jpg&f=1&nofb=1\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport './CheckoutProduct.scss';\r\nimport { useStateValue } from './StateProvider';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\n\r\nfunction CheckoutProduct({ item }) {\r\n  const [, dispatch] = useStateValue();\r\n\r\n  const removeFromBasket = () => {\r\n    dispatch({\r\n      type: 'REMOVE_FROM_BASKET',\r\n      item: item,\r\n    });\r\n  };\r\n\r\n  const addToBasket = () => {\r\n    dispatch({\r\n      type: 'ADD_TO_BASKET',\r\n      item,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"checkoutProduct\">\r\n      <img src={item.image} alt={item.title + ' img'} className=\"checkoutProduct__image\" />\r\n      <div className=\"checkoutProduct__details\">\r\n        <h3>{item.title}</h3>\r\n        <p>\r\n          <small>$</small>\r\n          <strong>{item.price}</strong>\r\n        </p>\r\n        <div className=\"checkoutProduct__rating\">\r\n          {Array(item.rating)\r\n            .fill()\r\n            .map((_, index) => (\r\n              <span role=\"img\" aria-label=\"rating\" key={index.toString()}>\r\n                ⭐\r\n              </span>\r\n            ))}\r\n        </div>\r\n        <div className=\"checkoutProduct__quantity\">\r\n          <p>Quantity: </p>\r\n          <button className=\"checkoutProduct__addRemoveButton\" onClick={addToBasket}>\r\n            <AddIcon />\r\n          </button>\r\n          <p>\r\n            <strong>{item.quantity}</strong>\r\n          </p>\r\n          <button className=\"checkoutProduct__addRemoveButton\" onClick={removeFromBasket}>\r\n            <RemoveIcon />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutProduct;\r\n","import React from 'react';\r\n// import React, { useState } from 'react';\r\nimport './Checkout.scss';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Checkout() {\r\n  const [{ basket }] = useStateValue();\r\n  // const [isGift, setIsGift] = useState(false);\r\n\r\n  const itemsInBasket = basket.reduce((acc, item) => acc + item.quantity, 0);\r\n  const subtotalAmount = basket.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__adAndItems\">\r\n        {/* 1) Ad banner */}\r\n        <img\r\n          src=\"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Flgbtnetwork.org%2Fsites%2Fdefault%2Ffiles%2Fstyles%2Fhome_banner%2Fpublic%2Famazon-smile-slider_0.jpg%3Fitok%3DnA2Hy7Y0&f=1&nofb=1\"\r\n          alt=\"ad\"\r\n          className=\"checkout__ad\"\r\n        />\r\n\r\n        <div className=\"checkout__items\">\r\n          {/* checking if cart is empty */}\r\n          {itemsInBasket <= 0 ? (\r\n            <div>\r\n              <h2>Your cart is empty!</h2>\r\n              <p>\r\n                To add one or more items to your cart, click on 'Add to basket' button next to the\r\n                items\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <h2>\r\n              Your cart has {basket.length} {basket.length > 1 ? 'products' : 'product'}\r\n            </h2>\r\n          )}\r\n\r\n          {/* 2) L: list items in card w/ details */}\r\n          {basket.map((item) => (\r\n            <CheckoutProduct key={item.id} item={item} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* 3) total items, total amount, proceed to pay */}\r\n      {itemsInBasket > 0 && (\r\n        <div className=\"checkout__total\">\r\n          <h3>\r\n            Subtotal ({itemsInBasket} {itemsInBasket > 1 ? 'items' : 'item'}): $\r\n            {subtotalAmount.toFixed(2)}\r\n          </h3>\r\n          <label>\r\n            <input type=\"checkbox\" name=\"gift\" />\r\n            {/* <input type=\"checkbox\" name=\"gift\" {isGift == true ? 'checked' : ''}/> */}\r\n            <small>This order contains a gift</small>\r\n          </label>\r\n          <br />\r\n          <button type=\"submit\">Proceed to Payment</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { auth } from '../firebase';\r\n// import { useStateValue } from './StateProvider';\r\n\r\nfunction SignIn() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const history = useHistory();\r\n\r\n  // const [, dispatch] = useStateValue();\r\n\r\n  const userSignIn = async (e) => {\r\n    e.preventDefault();\r\n    console.log({ email, password });\r\n\r\n    // firebase login code\r\n    try {\r\n      const auth_data = await auth.signInWithEmailAndPassword(email, password);\r\n      console.log(auth_data);\r\n      history.push('/');\r\n    } catch (err) {\r\n      alert(err.message);\r\n    }\r\n  };\r\n\r\n  const userRegister = async (e) => {\r\n    e.preventDefault();\r\n    console.log({ email, password });\r\n\r\n    // firebase register code\r\n    try {\r\n      const auth_data = await auth.createUserWithEmailAndPassword(email, password);\r\n      console.log(auth_data);\r\n      history.push('/');\r\n    } catch (err) {\r\n      alert(err.message);\r\n    }\r\n  };\r\n\r\n  // <<< OLD CODE WITH DISPATCH CALLS >>> //\r\n\r\n  // const userSignIn = async (e) => {\r\n  //   e.preventDefault();\r\n  //   console.log({ email, password });\r\n\r\n  //   // firebase login code\r\n  //   try {\r\n  //     const auth_data = await auth.signInWithEmailAndPassword(email, password);\r\n  //     console.log(auth_data);\r\n\r\n  //     dispatch({\r\n  //       type: 'SIGN_IN_USER',\r\n  //       user: auth_data.user,\r\n  //     });\r\n\r\n  //     history.push('/');\r\n  //   } catch (err) {\r\n  //     alert(err.message);\r\n  //   }\r\n  // };\r\n\r\n  // const userRegister = async (e) => {\r\n  //   e.preventDefault();\r\n  //   console.log({ email, password });\r\n\r\n  //   // firebase register code\r\n  //   try {\r\n  //     const auth_data = await auth.createUserWithEmailAndPassword(email, password);\r\n  //     // console.log(auth_data);\r\n\r\n  //     dispatch({\r\n  //       type: 'REGISTER_USER',\r\n  //       user: auth_data.user,\r\n  //     });\r\n\r\n  //     history.push('/');\r\n  //   } catch (err) {\r\n  //     alert(err.message);\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <div className=\"signIn\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"header__logo\"\r\n          src=\"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.pfaf.org%2FUserFilesCms%2Famazon-logo.png&f=1&nofb=1\"\r\n          alt=\"amazon logo\"\r\n        />\r\n      </Link>\r\n      <label htmlFor=\"email-input\">Email Id</label>\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        id=\"email-input\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n      />\r\n      <label htmlFor=\"password-input\">Password</label>\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        id=\"password-input\"\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n      <button type=\"submit\" onClick={userSignIn}>\r\n        Submit and Sign In\r\n      </button>\r\n      <button type=\"submit\" onClick={userRegister}>\r\n        Register as new user\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React, { useEffect } from 'react';\nimport './App.scss';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport Checkout from './components/Checkout';\nimport SignIn from './components/SignIn';\nimport { auth } from './firebase';\nimport { useStateValue } from './components/StateProvider';\n\n//amazon banner\n// https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423592668_.jpg?fbclid=IwAR2y_wXONOjTpC5dhw57fYaOvHRZr11IGUVAXrBjn-SDhxGjPUqOtCF8DQ0\n\nfunction App() {\n  const [, dispatch] = useStateValue();\n\n  useEffect(() => {\n    // will run only once when the App component loads, cuz second parameter to hook is []\n\n    // this is an event listener of firebase.auth\n    auth.onAuthStateChanged((authUser) => {\n      // console.log('AuthStateChanged \\nUser is => ', authUser);\n      if (authUser) {\n        // user just signed in\n        dispatch({\n          type: 'SET_USER',\n          user: authUser,\n        });\n      } else {\n        // user logged out\n        dispatch({\n          type: 'SET_USER',\n          user: null,\n        });\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"app\">\n        <Switch>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/login\">\n            <SignIn />\n          </Route>\n          {/* This is the default route */}\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { StateProvider } from './components/StateProvider';\nimport { initialState, reducer } from './components/reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const initialState = {\r\n  basket: [],\r\n  user: null,\r\n};\r\n\r\nexport const reducer = (state, action) => {\r\n  console.log('Reducer in action');\r\n  // console.log(action);\r\n\r\n  let newBasket, itemIndex;\r\n\r\n  switch (action.type) {\r\n    case 'ADD_TO_BASKET':\r\n      // this line does NOT make a DEEP COPY of state.basket (refer: https://learnersbucket.com/examples/array/how-to-copy-array-in-javascript/)\r\n      // let newBasket = [...state.basket];\r\n      // this code makes a DEEP COPY (and thus keeps the reducer a PURE FUNCTION)\r\n      newBasket = JSON.parse(JSON.stringify(state.basket));\r\n      itemIndex = newBasket.findIndex((item) => item.id === action.item.id);\r\n\r\n      // if item already in basket, increment 'quantity', else append the item to the basket\r\n      if (itemIndex === -1) newBasket.push(action.item);\r\n      else newBasket[itemIndex].quantity += 1;\r\n\r\n      return {\r\n        ...state,\r\n        basket: newBasket,\r\n      };\r\n\r\n    case 'REMOVE_FROM_BASKET':\r\n      // this line does NOT make a DEEP COPY of state.basket (refer: https://learnersbucket.com/examples/array/how-to-copy-array-in-javascript/)\r\n      // let newBasket = [...state.basket];\r\n      // this code makes a DEEP COPY (and thus keeps the reducer a PURE FUNCTION)\r\n      newBasket = JSON.parse(JSON.stringify(state.basket));\r\n      itemIndex = newBasket.findIndex((item) => item.id === action.item.id);\r\n\r\n      // if single item, remove it from bucket; else decrement 'quantity'\r\n      if (itemIndex === -1) console.warn('Item does not exist in your cart.');\r\n      else if (newBasket[itemIndex].quantity <= 1)\r\n        newBasket = newBasket.filter((ele) => ele.id !== action.item.id);\r\n      else newBasket[itemIndex].quantity -= 1;\r\n\r\n      return {\r\n        ...state,\r\n        basket: newBasket,\r\n      };\r\n\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"sourceRoot":""}